# 项目设计模式

1. 原型模式->构造游戏角色属性和行为
2. 原型模式->构造交通灯属性和行为
3. 单例模式->定义游戏规则

## js 文件说明及其代码作用

|     文件名      |                  代码逻辑                  |                代码作用                |
| :-------------: | :----------------------------------------: | :------------------------------------: |
|  character.js   | 定义一个游戏角色构造函数以及角色行动指令集 |    定义角色属性和行为以及定义指令集    |
| trafficLight.js |           定义一个交通灯构造函数           |          定义交通灯行为和属性          |
|  gameRules.js   |                定义游戏规则                | 作为监控中心，对玩家操作进行观察和处理 |
|     game.js     |                游戏相关操作                |      初始化游戏场景，定义游戏操作      |

## 游戏目的

通过这个红绿灯小游戏，教育小朋友学习红绿灯交通规则，寓教于乐。

## 设计思路

1. 吸引性：抓住小孩子喜欢色彩鲜艳的东西的特点，在保证功能正常运行的情况下，为页面合理搭配色彩，提高视觉吸引力。

2. 参与性：引入近期深受小朋友喜爱的小猪佩奇作为情景主角，并为其设置情景，增加游戏童趣，激发小朋友的参与性。

3. 简易性：考虑到小朋友的情况，游戏操作被设计德=得尽可能简单，保证小朋友可以快速接受游戏玩法，并在游戏中学习交通规则。

## 游戏规则/玩法

1. 点击游戏开始，每个交通灯开始交替闪烁并有相应的倒计时；玩家可以点击左右方向键或按键盘左右方向键控制佩奇左右走动。

2. 小佩奇需要在红灯或黄灯亮时在安全区停下等待，在绿灯亮时安全通过马路，否则，玩家不得分或扣分，每个玩家有三次机会。

3. 游戏结束后，根据得分判断是否通过(满分才算真正通关)，并给出结果提示。

## 难点

1. 游戏设计思路和玩法的合理性；
2. 保证游戏逻辑的严谨性：实现基本游戏操作后，需要监听相关的操作状态以及对玩家非法操作进行处理；例如，监听小猪佩奇是否进行有效的移动(isMove)，防止玩家开始游戏后不操作角色而得分的不合理行为，因此，每次操作角色后需要将移动状态 isMove 复位
